# ì—°ê´€ê´€ê³„ ë§¤í•‘

## ì—°ê´€ê´€ê³„ì˜ í•„ìš”ì„± 

ê°ì²´ë¥¼ í…Œì´ë¸”ì— ë§ì¶”ì–´ ë°ì´í„° ì¤‘ì‹¬ìœ¼ë¡œ ëª¨ë¸ë§í•˜ë©´ í˜‘ë ¥ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.

```markdown
- í…Œì´ë¸”ì€ ì™¸ë˜í‚¤ë¡œ ì¡°ì¸ì„ ì‚¬ìš©í•´ì„œ ì—°ê´€ëœ í…Œì´ë¸”ì„ ì°¾ëŠ”ë‹¤.
- ê°ì²´ëŠ” ì°¸ì¡°ë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê´€ëœ ê°ì²´ë¥¼ ì°¾ëŠ”ë‹¤.
- í…Œì´ë¸”ê³¼ ê°ì²´ ì‚¬ì´ì—ëŠ” í° ê°„ê²©ì´ ìˆë‹¤.
```

### 1.ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„

#### ì—°ê´€ê´€ê³„ ì¡°íšŒ ì‹œ

```java
Member findMember = em.find(Member.class, member.getId());

// ì°¸ì¡° ê´€ê³„ë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê´€ê´€ê³„ ì¡°íšŒ
Team findTeam = findMember.getTeam();
```

#### ì—°ê´€ê´€ê³„ ìˆ˜ì • ì‹œ

```java
Team teamB = new Tema();
teamB.setName("TeamB");
em.persist(teamB);

//íšŒì›1ì— ìƒˆë¡œìš´ íŒ€B ì„¤ì •
member.setTeam(teamB); -> foreign key update ëœë‹¤
```

---
### ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì™€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸

#### 1. ê¸°ë³¸ - ê°ì²´ì™€ í…Œì´ë¸”ê°„ì— ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ” ì°¨ì´
    
    ğŸ’¡ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë€ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ì—”í‹°í‹°ë¥¼ ì§€ì¹­í•œë‹¤.


###### ê°ì²´ ì—°ê´€ê´€ê³„ = 2ê°œ
- íšŒì› - > íŒ€ ì—°ê´€ê´€ê³„ : 1ê°œ (ë‹¨ë°˜í–¥)
- íŒ€  - >  íšŒì› ì—°ê´€ê´€ê³„ : 1ê°œ (ë‹¨ë°©í–¥)

    => ì´ 2ê°œ 
###### í…Œì´ë¸” ì—°ê´€ê´€ê³„ 1ê°œ

íšŒì› < - > íŒ€ ì—°ê´€ê´€ê³„ : 1ê°œ

í…Œì´ë¸”ì€ `ì™¸ë˜í‚¤` í•˜ë‚˜ë¡œ ë‘ í…Œì´ë¸”ê°„ì˜ ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬

MEMBER.TEAM_ID **ì™¸ë˜í‚¤ í•˜ë‚˜ë¡œ ì–‘ë°©í–¥ ê´€ê³„ ì—°ê´€ê´€ê³„ ê°€ì§**
(ì–‘ìª½ìœ¼ë¡œ JOINì´ ê°€ëŠ¥í•˜ë‹¤)

### ì–‘ë°©í–¥ ë§¤í•‘ ê·œì¹™ 

- ê°ì²´ì˜ ë‘ ê´€ê³„ ì¤‘ í•˜ë‚˜ë¥¼ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ìœ¼ë¡œ ì§€ì •
- **ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ë§Œì´ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬(ë“±ë¡, ìˆ˜ì •)**
- **ì£¼ì¸ì´ ì•„ë‹Œ ìª½ì€ ì½ê¸°ë§Œ ê°€ëŠ¥**
- ì£¼ì¸ì€ mappedBy ì†ì„± ì‚¬ìš© X
- **ì£¼ì¸ì´ ì•„ë‹ˆë©´ mappedByì†ì„±ìœ¼ë¡œ ì£¼ì¸ ì§€ì •**


    ğŸ’¡ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë€ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ìª½ì´ë‹¤
<br>
    
    ğŸ’¡ ì™¸ë˜í‚¤ê°€ ìˆëŠ” ê³³ì„ ì£¼ì¸ìœ¼ë¡œ ì •í•´ë¼


---
#### ì–‘ë°©í–¥ ë§¤í•‘ ì‹œ ê°€ì¥ ë§ì´ í•˜ëŠ” ì‹¤ìˆ˜
ì£¼ì¸ê´€ê³„ì˜ ì£¼ì¸ì— ê°’ì„ ì…ë ¥í•˜ì§€ ì•ŠìŒ

```java

Team team = new Team();
team.setName("TeamA");
em.persist(team);

Member member = new Member():
member.setname(member1);

// ì—­ë°©í–¥ (ì£¼ì¸ì´ ì•„ë‹Œ ë°©í–¥) ë§Œ ì—°ê´€ê´€ê³„ ì„¤ì •
team.getMembers().add(member);

em.persist(member);
```

**ì†”ë£¨ì…˜**

```java
Team team = new Team();
team.setName("TeamA");
em.persist(team);

Member member = new Member():
member.setname(member1);

team.getMembers().add(member);
// ì£¼ì¸ê°ì²´ì— team ì¶”ê°€
member.setTeam(team); // < ì—¬ê¸°ê°€ ì¤‘ìš”

em.persist(member);
```
